---
layout: post
title: delegate
category: QT
tags: Essay
keywords: 
description: 
---

## QTreeView和QTreeWidget都可以设置QItemDelegate
```cpp
class MyItemDelegate : public QItemDelegate
{
  Q_OBJECT
public:
  QTreeView* tree;
public:
    MyItemDelegate(QObject* obj):
      QItemDelegate(Qobj),
      tree((QTreeView*)obj)
    {
    
    }
    void paint(QPainter* painter, const QStyleOptionViewItem &option, const QModelIndex &index)const
    {
      // 描绘边框
      if(index == tree->currentIndex()) {
        painter->drawLine();
      } else {
        painter->drawLine();
      }
    }
}
QTreeWidget* tree = new QTreeWidget;
tree->setItemDelegate(new MyItemDelegate(tree));
```
## 以上功能也可以用qss实现
```cpp
QTreeWidget::item{
  border-right:1px solid rgb(234,234,234);
  border-bottom:1px solid rgb(234,234,234);
}
```
