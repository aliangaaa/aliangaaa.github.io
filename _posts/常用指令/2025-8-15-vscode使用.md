---
layout: post
title: vscode使用
category: 常用指令
tags: Essay
keywords: 
description: 
---

## cpp的编译
### cpp intell 配置
### 单文件runner

### 多文件cmakelist
#### 1. 安装插件
C/C++（Microsoft） → 提供 IntelliSense、调试支持
CMake Tools（Microsoft） → 提供 CMake 构建、配置、调试集成

#### 2.编写CMakeLists.txt
```
cmake_minimum_required(VERSION 3.10)

project(ProducerConsumerExample LANGUAGES CXX)

set(CMAKE_CXX_STANDARD 11)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)

add_executable(producer_consumer test.cpp)

find_package(Threads REQUIRED)
target_link_libraries(producer_consumer PRIVATE Threads::Threads)

if(MSVC)
    target_compile_options(producer_consumer PRIVATE /W4 /permissive-)
else()
    target_compile_options(producer_consumer PRIVATE -Wall -Wextra -pedantic)
endif()
```

#### 3.打开 VS Code
打开 code1 文件夹
VS Code 右下角会显示 [No Kit Selected] → 点击选择编译器 Kit（比如 Visual Studio 2022 x64 用 MSVC）。
我这边是自动弹出选择编译器

#### 4. 配置构建目录（可选）
```
.vscode/settings.json 示例：
{
    "cmake.sourceDirectory": "${workspaceFolder}",
    "cmake.buildDirectory": "${workspaceFolder}/build"
}
```
默认 CMake Tools 会在项目下生成 build/ 文件夹
可以自定义构建目录

#### 5.构建项目
Ctrl+Shift+P → CMake: Configure → 配置项目
Ctrl+Shift+P → CMake: Build → 编译生成可执行文件

我是直接添加到工作区就开始configure，generate。
然后点左下角的生成。
可执行文件会在 build/producer_consumer.exe
